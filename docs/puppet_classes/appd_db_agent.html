<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Puppet Class: appd_db_agent
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "puppet_classes::appd_db_agent";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../puppet_class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (a)</a> &raquo;
    <span class='title'><span class='object_link'>Puppet Classes</span></span>
     &raquo; 
    <span class="title">appd_db_agent</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="puppet_class_list_link"
        href="../puppet_class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Puppet Class: appd_db_agent</h1>
<div class="box_info">
  
  
  <dl>
    <dt>Defined in:</dt>
    <dd>
      manifests/init.pp
    </dd>
  </dl>
</div>

  <h2>Summary</h2>
  Downloads, installs, configures and runs an Appdynamics Database Agent service

<h2>Overview</h2>
<div class="docstring">
  <div class="discussion">
    
  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>source</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The source location of the dbagent-x.x.x.x.zip file.  Can be any source that <a href="https://forge.puppet.com/puppet/archive">puppet/archive</a> supports.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>version</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The version of the agent being installed eg <code>4.4.1.229</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>controller_host_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The AppDynamics controller to connect to.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>controller_port</span>
      
      
        <span class='type'>(<tt>Integer[0, 65535]</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The port on which to connect to the controller.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>agent_account_access_key</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The account access key the agent should use.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>user</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;appdynamics&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The user to install and run the agent as.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>group</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;appdynamics&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The primary group of the user.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>manage_user</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Whether to create the user and group.  Useful if you already have puppet code creating an appdynamics user.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>agent_account_name</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>This is the account name used to authenticate with the Controller.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>controller_ssl_enabled</span>
      
      
        <span class='type'>(<tt>Optional[Boolean]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Whether to connect to the controller using SSL.  Needs to be set to <code>true</code> if using the AppDynamics SaaS Controller.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>checksum</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Passed to the <a href="https://forge.puppet.com/puppet/archive">puppet/archive</a> module when downloading the zip.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>checksum_type</span>
      
      
        <span class='type'>(<tt>Optional[Enum['md5', 'sha1', 'sha2', 'sha256', 'sha384', 'sha512']]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Passed to the <a href="https://forge.puppet.com/puppet/archive">puppet/archive</a> module when downloading the zip.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>proxy_host</span>
      
      
        <span class='type'>(<tt>Optional[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>If specified, the HTTP proxy to use when connecting to the controller.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>proxy_port</span>
      
      
        <span class='type'>(<tt>Optional[Integer[0, 65535]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The HTTP proxy port.  Required when proxy_host is set.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>db_agent_name</span>
      
      
        <span class='type'>(<tt>Optional[String[1]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name you want the agent to appear as in the controller.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>java_heap_size</span>
      
      
        <span class='type'>(<tt>Optional[Pattern[/^\d+[kKmMgG]$/]]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;256m&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The heap size for the java process.  The default is very low and should be increased according to how many databases the agent will connect to and in line with the AppDynamics documentation.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>java_home</span>
      
      
        <span class='type'>(<tt>Optional[Stdlib::Unixpath]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;/usr/lib/jvm/java&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The java home of the JRE you want to use.</p>
</div>
      
    </li>
  
</ul>


</div><div class="method_details_list">
  <table class="source_code">
    <tr>
      <td>
        <pre class="lines">


20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57</pre>
      </td>
      <td>
        <pre class="code"><span class="info file"># File 'manifests/init.pp', line 20</span>

class appd_db_agent(
  String $source,
  String $version,

  String            $controller_host_name, # TODO: Use Stdlib::Host when stdlib 4.25.0 is released
  Integer[0, 65535] $controller_port,
  String            $agent_account_access_key,

  String            $user                   = &#39;appdynamics&#39;,
  String            $group                  = &#39;appdynamics&#39;,
  Boolean           $manage_user            = true,
  Optional[String]  $agent_account_name     = undef,
  Optional[Boolean] $controller_ssl_enabled = undef,

  Optional[String] $checksum = undef,
  Optional[Enum[&#39;md5&#39;, &#39;sha1&#39;, &#39;sha2&#39;, &#39;sha256&#39;, &#39;sha384&#39;, &#39;sha512&#39;]] $checksum_type = undef,

  Optional[String]                   $proxy_host     = undef,
  Optional[Integer[0, 65535]]        $proxy_port     = undef,
  Optional[String[1]]                $db_agent_name  = undef,
  Optional[Pattern[/^\d+[kKmMgG]$/]] $java_heap_size = &#39;256m&#39;,
  Optional[Stdlib::Unixpath]         $java_home      = &#39;/usr/lib/jvm/java&#39;,
)
{
  if $proxy_host {
    assert_type(Integer[0, 65535], $proxy_port) |$expected, $actual| {
      fail(&#39;proxy_port must be specified when using proxy_host&#39;)
    }
  }

  contain appd_db_agent::install
  contain appd_db_agent::config
  contain appd_db_agent::service

  Class[&#39;appd_db_agent::install&#39;]
  -&gt; Class[&#39;appd_db_agent::config&#39;]
  ~&gt; Class[&#39;appd_db_agent::service&#39;]
}</pre>
      </td>
    </tr>
  </table>
</div>
</div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>